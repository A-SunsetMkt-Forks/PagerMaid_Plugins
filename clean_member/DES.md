# 群成员清理插件 - 智能缓存版 v4.0

## 插件简介
本插件用于Telegram群组成员的智能清理，支持多种清理模式，包括按未上线时间、未发言时间、发言数量、注销账户以及清理所有普通成员。采用智能缓存系统，支持生成CSV格式报告，方便查看和复查。支持处理超过5万成员的大型群组。

## 功能特点
- 支持5种清理模式，满足不同需求
- 智能缓存系统，缓存有效期24小时，显著提升查找和清理效率
- 生成详尽CSV报告，包含用户ID、用户名、姓名、最后上线时间、注销状态
- 自动清理过期缓存，保持缓存目录整洁
- 分批异步处理，降低频率限制风险
- 不会误删管理员，安全性高
- 支持查找并缓存，也支持直接清理两种模式
- 处理超大群组成员，突破官方单次获取限制

## 使用说明
-clean_member <模式> [天数] [search]

- `<模式>`：
  - 1 - 按未上线时间清理
  - 2 - 按未发言时间清理
  - 3 - 按发言数量清理
  - 4 - 清理已注销账户
  - 5 - 清理所有普通成员
- `[天数]`：根据模式不同，填写天数参数（非必填，模式4和5可忽略）
- `[search]`：可选参数，表示只查找符合条件的成员并缓存结果，不直接清理

## 示例
- `-clean_member 1 7 search`  
  查找并缓存7天未上线用户
- `-clean_member 1 7`  
  直接清理7天未上线用户（优先使用缓存）
- `-clean_member 4`  
  清理已注销账户

## 权限需求
需要群管理员权限，且具备封禁成员权限。

## 文件存储
- 缓存文件和报告均保存在 `plugins/clean_member_cache/` 目录下

## 注意事项
- 缓存有效期24小时，过期自动删除
- 处理大型群组时，建议先执行带`search`的查找命令，再执行清理
- 避免频繁执行，以防触发Telegram频率限制
---
